{"version":3,"sources":["app.js","environment.js","main.js","api/api.js","api/blog.js","api/dataset-constructor.js","api/labs.js","api/posts.js","posts/author.js","posts/continue-reading.js","posts/list.js","posts/post-in-list.js","posts/post.js","posts/share.js","posts/subscribe.js","resources/index.js","tags/tags-flat-list.js","resources/attributes/popup.js","resources/elements/pagination.js","resources/value-converters/absolute-url.js","resources/value-converters/date-format.js","resources/value-converters/encode.js","resources/value-converters/excerpt.js","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/app.html","resources/elements/pagination.scss","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/posts/author.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/posts/continue-reading.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/posts/list.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/posts/post-in-list.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/posts/post.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/posts/share.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/posts/subscribe.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/tags/tags-flat-list.html","/Users/hadrien/Documents/dev/aurelia-io.fr/blog/content/themes/ghost-aurelia/src/resources/elements/pagination.html"],"names":["App","message","configureRouter","config","router","title","options","pushState","map","route","name","moduleId","handleUnknownRoutes","redirect","debug","testing","apiHost","clientId","clientSecret","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","ghost","window","Api","client","get","path","fetch","url","api","response","json","data","Blog","document","body","datasetConstructor","construct","DatasetConstructor","object","element","prefix","dataset","Object","keys","property","value","match","replace","c","toLowerCase","Labs","Posts","getBySlug","slug","Author","ContinueReadingCustomElement","postsService","currentChanged","getPosts","posts","index","indexOf","find","post","id","current","previous","next","length","_posts","limit","fields","List","blog","total","perPage","postsPerPage","activate","routeParams","page","loadPosts","include","results","meta","pagination","navigate","navigateTo","navigateToRoute","PostInList","Post","labs","Error","console","log","Share","Subscribe","TagsFlatListCustomElement","PopupCustomAttribute","Element","attached","addEventListener","_listener","e","preventDefault","open","getAttribute","detached","removeEventListener","MAX_PAGES","Pagination","loading","stopPropagation","res","finally","lastPage","pages","range","Math","floor","end","min","max","i","push","ceil","AbsoluteUrlValueConverter","toView","str","location","origin","DateFormatValueConverter","moment","date","format","EncodeValueConverter","encodeURIComponent","ExcerptValueConverter","type","div","createElement","innerHTML","text","innerText","words","split","splice","join","substr"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  constructor() {\n    this.message = 'Hello World!';\n  }\n\n  configureRouter(config, router) {\n    config.title = 'Aurelia-io.fr';\n    config.options.pushState = true;\n    config.map([{\n      route: '/',\n      name: 'home',\n      moduleId: './posts/list'\n    }, {\n      route: '/page/:page',\n      name: 'posts',\n      moduleId: './posts/list'\n    }, {\n      route: '/tag/:tag',\n      name: 'tag',\n      moduleId: './tags/tag'\n    }, {\n      route: '/:slug',\n      name: 'post',\n      moduleId: './posts/post'\n    }]);\n\n    router.handleUnknownRoutes({\n      redirect: '/'\n    });\n\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true,\n  apiHost: '/ghost/api/v0.1/',\n  clientId: 'ghost-frontend',\n  clientSecret: 'b65fd1919bd1'\n};\n","import 'regenerator-runtime/runtime';\nimport environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\n\nconst ghost = window.ghost;\n\n@inject(HttpClient, ghost)\nexport class Api {\n  constructor(client, ghost) {\n    this.client = client;\n    this.ghost = ghost;\n  }\n\n  async get(path, options/*{ include, limit, page, order, fields, filter, resource }*/) {\n    const response = await this.client.fetch(this.ghost.url.api(path, options));\n    const data = await response.json();\n    return data;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DatasetConstructor} from './dataset-constructor';\n\n@inject(document.body, DatasetConstructor)\nexport class Blog {\n  constructor(body, datasetConstructor) {\n    datasetConstructor.construct(this, body, 'blog');\n  }\n}\n","export class DatasetConstructor {\n  construct(object, element, prefix) {\n    const dataset = element.dataset;\n    for (let property of Object.keys(dataset)) {\n      const value = dataset[property];\n      if (prefix) {\n        property = property.match(`^${prefix}(.*?)$`);\n        if (!property) {\n          continue;\n        }\n        property = property[1].replace(/^./, c => c.toLowerCase());\n      }\n      object[property] = value;\n    }\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DatasetConstructor} from './dataset-constructor';\n\n@inject(document.body, DatasetConstructor)\nexport class Labs {\n  constructor(body, datasetConstructor) {\n    datasetConstructor.construct(this, body, 'labs');\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {Api} from './api';\n\n@inject(Api)\nexport class Posts {\n  constructor(api) {\n    this.api = api;\n  }\n\n  get(options) {\n    return this.api.get('posts', options);\n  }\n\n  getBySlug(slug, options) {\n    return this.api.get(`posts/slug/${slug}`, options);\n  }\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class Author {\n  @bindable author;\n}\n","import {inject, bindable, singleton} from 'aurelia-framework';\nimport {Posts} from '../api/posts';\n\n@singleton()\n@inject(Posts)\nexport class ContinueReadingCustomElement {\n  @bindable current;\n\n  constructor(postsService) {\n    this.postsService = postsService;\n  }\n\n  async currentChanged() {\n    const posts = await this.getPosts();\n\n    const index = posts.posts.indexOf(posts.posts.find(post => post.id === this.current.id));\n    this.previous = (index - 1 > -1) ? posts.posts[index - 1] : null;\n    this.next = (index + 1 < posts.posts.length) ? posts.posts[index + 1] : null;\n  }\n\n  async getPosts() {\n    if (!this._posts) {\n      this._posts = await this.postsService.get({\n        limit: 'all',\n        fields: ['id', 'published_at', 'title', 'html', 'image', 'url',]\n      });\n    }\n    return this._posts;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {Posts} from '../api/posts';\nimport {Blog} from '../api/blog';\n\n@inject(Router, Blog, Posts)\nexport class List {\n  posts = [];\n  total = 0;\n  perPage = 0;\n  current = 1;\n\n  constructor(router, blog, posts) {\n    this.router = router;\n    this.postsService = posts;\n    this.perPage = blog.postsPerPage;\n  }\n\n  async activate(routeParams = {}) {\n    this.current = +routeParams.page || 1;\n    return this.loadPosts();\n  }\n\n  async loadPosts() {\n    const results = await this.postsService.get({\n      page: this.current,\n      limit: this.perPage,\n      include: ['author', 'tags']\n    });\n    this.posts = results.posts;\n    this.total = +results.meta.pagination.total;\n  }\n\n  navigate({ navigateTo }) {\n    if (navigateTo > 1) {\n      this.router.navigateToRoute('posts', { page: navigateTo });\n    } else {\n      this.router.navigateToRoute('home');\n    }\n  }\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class PostInList {\n  @bindable post;\n}\n","import {inject} from 'aurelia-framework';\nimport {Posts} from '../api/posts';\nimport {Labs} from '../api/labs';\n\n@inject(Posts, Labs)\nexport class Post {\n  constructor(postsService, labs) {\n    this.postsService = postsService;\n    this.labs = labs\n  }\n\n  async activate(routeParams) {\n    const results = await this.postsService.getBySlug(routeParams.slug, { include: ['author', 'tags'] });\n\n    if (!results.posts.length) {\n      throw new Error('Not found');\n    }\n\n    this.post = results.posts[0];\n\n    console.log(this.post);\n  }\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class Share {\n  @bindable post;\n}\n","import {inject} from 'aurelia-framework';\nimport {Labs} from '../api/labs';\nimport {Blog} from '../api/blog';\n\n@inject(Labs, Blog)\nexport class Subscribe {\n  constructor(labs, blog) {\n    this.labs = labs;\n    this.blog = blog;\n  }\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class TagsFlatListCustomElement {\n  @bindable tags;\n}\n","import {inject} from 'aurelia-framework';\n\n@inject(Element)\nexport class PopupCustomAttribute {\n  constructor(element) {\n    this.element = element;\n  }\n\n  attached() {\n    this.element.addEventListener('click', this._listener = e => {\n      e.preventDefault();\n      window.open(this.element.getAttribute('href'));\n    });\n  }\n\n  detached() {\n    this.element.removeEventListener('click', this._listener);\n  }\n}\n","import {bindable, computedFrom} from 'aurelia-framework';\n\nconst MAX_PAGES = 9;\n\n/**\n * @exemple\n * <pagination\n *   total.bind=\"total\"\n *   per-page.bind=\"perPage\"\n *   current.bind=\"current\"\n *   navigate.call=\"paginate($event)\"></pagination>\n */\nexport class Pagination {\n  @bindable total = 0;\n  @bindable perPage = 0;\n  @bindable current = 1;\n  @bindable navigate = () => {};\n  loading = null;\n\n  @computedFrom('total', 'perPage', 'current')\n  get pages() {\n    if (!this.perPage) {\n      return [];\n    }\n    const total = this.lastPage - 1;\n    const pages = [];\n    const current = +this.current;\n\n    let range = Math.floor(MAX_PAGES / 2);\n    if (range % 2 === 1) {\n      range--;\n    }\n\n    let end = Math.min(Math.max(current + range, MAX_PAGES), total + 1);\n    let start = Math.min(Math.max(current - range, 1), Math.max(end - MAX_PAGES + 1, 1));\n\n    for (let i = start; i <= end; i++) {\n      pages.push(i);\n    }\n\n    return pages;\n  }\n\n  @computedFrom('total', 'perPage')\n  get lastPage() {\n    return Math.ceil(+this.total / +this.perPage);\n  }\n\n  navigateTo(e, page) {\n    e.stopPropagation();\n    if (typeof this.navigate === 'function') {\n      const res = this.navigate({\n        total: this.total,\n        perPage: this.perPage,\n        current: this.current,\n        navigateTo: page\n      });\n      if (res instanceof Promise) {\n        this.loading = page;\n        res\n        .finally(() => this.loading = null);\n      }\n    }\n  }\n}\n","export class AbsoluteUrlValueConverter {\n  toView(str) {\n    return `${window.location.origin}${str}`;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport moment from 'moment';\n\n@inject(() => moment)\nexport class DateFormatValueConverter {\n  constructor(moment) {\n    this.moment = moment;\n  }\n\n  toView(date, format) {\n    return this.moment(date).format(format);\n  }\n}\n","export class EncodeValueConverter {\n  toView(str) {\n    return encodeURIComponent(str);\n  }\n}\n","export class ExcerptValueConverter {\n  toView(str, { length, type }) {\n    const div = document.createElement('div');\n    div.innerHTML = str;\n    const text = div.innerText;\n\n    if (type === 'words') {\n      const words = text.split(/\\s+/);\n      return words.splice(0, length).join(' ') + '…';\n    } else {\n      return text.substr(0, length);\n    }\n  }\n}\n",null,"",null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}